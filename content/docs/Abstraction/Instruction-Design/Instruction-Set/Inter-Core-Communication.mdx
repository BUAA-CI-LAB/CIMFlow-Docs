---
title: Inter-Core Communication
description: Cross-core data transmission and synchronization instructions
---

Inter-core communication instructions enable data exchange and synchronization between processing cores in a multi-core architecture. These instructions use communication IDs to ensure reliable, ordered message passing.

---

## SEND

Initiates a data transmission from the current core to a remote receiver core. The instruction specifies sender/receiver IDs, destination address, transfer size, and a communication ID for acknowledgment tracking.

<div className="not-prose mb-6 rounded-xl overflow-hidden shadow-sm border border-fd-border">
  <div className="flex bg-fd-muted/50 text-xs text-fd-muted-foreground font-mono">
    <div className="w-[18.75%] text-center py-1.5 border-r border-fd-border">31:26</div>
    <div className="w-[15.625%] text-center py-1.5 border-r border-fd-border">25:21</div>
    <div className="w-[15.625%] text-center py-1.5 border-r border-fd-border">20:16</div>
    <div className="w-[15.625%] text-center py-1.5 border-r border-fd-border">15:11</div>
    <div className="w-[15.625%] text-center py-1.5 border-r border-fd-border">10:6</div>
    <div className="w-[15.625%] text-center py-1.5 border-r border-fd-border">5:1</div>
    <div className="w-[3.125%] text-center py-1.5">0</div>
  </div>
  <div className="flex text-center border-t border-fd-border">
    <div className="w-[18.75%] py-3 bg-gradient-to-b from-fd-primary/5 to-fd-primary/10">
      <div className="font-mono font-semibold text-fd-primary">110100</div>
      <div className="text-xs text-fd-muted-foreground">opcode</div>
    </div>
    <div className="w-[15.625%] py-3 border-l border-fd-border">
      <div className="font-mono font-medium">rs</div>
      <div className="text-xs text-fd-muted-foreground">sender ID</div>
    </div>
    <div className="w-[15.625%] py-3 border-l border-fd-border">
      <div className="font-mono font-medium">rt</div>
      <div className="text-xs text-fd-muted-foreground">receiver ID</div>
    </div>
    <div className="w-[15.625%] py-3 border-l border-fd-border">
      <div className="font-mono font-medium">rd</div>
      <div className="text-xs text-fd-muted-foreground">dest addr</div>
    </div>
    <div className="w-[15.625%] py-3 border-l border-fd-border">
      <div className="font-mono font-medium">re</div>
      <div className="text-xs text-fd-muted-foreground">size</div>
    </div>
    <div className="w-[15.625%] py-3 border-l border-fd-border">
      <div className="font-mono font-medium">rf</div>
      <div className="text-xs text-fd-muted-foreground">comm ID</div>
    </div>
    <div className="w-[3.125%] py-3 bg-fd-muted/30 border-l border-fd-border">
      <div className="font-mono text-fd-muted-foreground text-xs">—</div>
    </div>
  </div>
  <div className="px-4 py-3 bg-fd-muted/30 border-t border-fd-border grid grid-cols-2 gap-4 text-sm">
    <div>
      <div className="text-xs text-fd-muted-foreground uppercase tracking-wide mb-1">Syntax</div>
      <code className="text-fd-primary">SEND rs, rt, rd, re, rf</code>
    </div>
    <div>
      <div className="text-xs text-fd-muted-foreground uppercase tracking-wide mb-1">Operation</div>
      <code>Send GRF[re] bytes to core GRF[rt] @ addr GRF[rd]</code>
    </div>
  </div>
</div>

<Accordions>
<Accordion title="Parameters">

<div className="not-prose grid gap-3 sm:grid-cols-2 lg:grid-cols-3 my-4">
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="flex items-baseline gap-2 mb-2">
      <code className="font-mono font-semibold text-fd-primary">GRF[rs]</code>
      <span className="text-xs text-fd-muted-foreground">Sender ID</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Core ID of the sending processor</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="flex items-baseline gap-2 mb-2">
      <code className="font-mono font-semibold text-fd-primary">GRF[rt]</code>
      <span className="text-xs text-fd-muted-foreground">Receiver ID</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Core ID of the target processor</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="flex items-baseline gap-2 mb-2">
      <code className="font-mono font-semibold text-fd-primary">GRF[rd]</code>
      <span className="text-xs text-fd-muted-foreground">Destination Address</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Memory address in receiver's address space</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="flex items-baseline gap-2 mb-2">
      <code className="font-mono font-semibold text-fd-primary">GRF[re]</code>
      <span className="text-xs text-fd-muted-foreground">Transfer Size</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Number of bytes to transmit</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm col-span-2">
    <div className="flex items-baseline gap-2 mb-2">
      <code className="font-mono font-semibold text-fd-primary">GRF[rf]</code>
      <span className="text-xs text-fd-muted-foreground">Communication ID</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Unique identifier for this transaction, used for acknowledgment and synchronization between sender/receiver</div>
  </div>
</div>

</Accordion>
</Accordions>

---

## RECV

Receives data from a remote sender core. The instruction specifies sender ID, source/destination addresses, transfer size, and a communication ID that must match the corresponding SEND operation.

<div className="not-prose mb-6 rounded-xl overflow-hidden shadow-sm border border-fd-border">
  <div className="flex bg-fd-muted/50 text-xs text-fd-muted-foreground font-mono">
    <div className="w-[18.75%] text-center py-1.5 border-r border-fd-border">31:26</div>
    <div className="w-[15.625%] text-center py-1.5 border-r border-fd-border">25:21</div>
    <div className="w-[15.625%] text-center py-1.5 border-r border-fd-border">20:16</div>
    <div className="w-[15.625%] text-center py-1.5 border-r border-fd-border">15:11</div>
    <div className="w-[15.625%] text-center py-1.5 border-r border-fd-border">10:6</div>
    <div className="w-[15.625%] text-center py-1.5 border-r border-fd-border">5:1</div>
    <div className="w-[3.125%] text-center py-1.5">0</div>
  </div>
  <div className="flex text-center border-t border-fd-border">
    <div className="w-[18.75%] py-3 bg-gradient-to-b from-fd-primary/5 to-fd-primary/10">
      <div className="font-mono font-semibold text-fd-primary">110110</div>
      <div className="text-xs text-fd-muted-foreground">opcode</div>
    </div>
    <div className="w-[15.625%] py-3 border-l border-fd-border">
      <div className="font-mono font-medium">rs</div>
      <div className="text-xs text-fd-muted-foreground">sender ID</div>
    </div>
    <div className="w-[15.625%] py-3 border-l border-fd-border">
      <div className="font-mono font-medium">rt</div>
      <div className="text-xs text-fd-muted-foreground">src addr</div>
    </div>
    <div className="w-[15.625%] py-3 border-l border-fd-border">
      <div className="font-mono font-medium">rd</div>
      <div className="text-xs text-fd-muted-foreground">dest addr</div>
    </div>
    <div className="w-[15.625%] py-3 border-l border-fd-border">
      <div className="font-mono font-medium">re</div>
      <div className="text-xs text-fd-muted-foreground">size</div>
    </div>
    <div className="w-[15.625%] py-3 border-l border-fd-border">
      <div className="font-mono font-medium">rf</div>
      <div className="text-xs text-fd-muted-foreground">comm ID</div>
    </div>
    <div className="w-[3.125%] py-3 bg-fd-muted/30 border-l border-fd-border">
      <div className="font-mono text-fd-muted-foreground text-xs">—</div>
    </div>
  </div>
  <div className="px-4 py-3 bg-fd-muted/30 border-t border-fd-border grid grid-cols-2 gap-4 text-sm">
    <div>
      <div className="text-xs text-fd-muted-foreground uppercase tracking-wide mb-1">Syntax</div>
      <code className="text-fd-primary">RECV rs, rt, rd, re, rf</code>
    </div>
    <div>
      <div className="text-xs text-fd-muted-foreground uppercase tracking-wide mb-1">Operation</div>
      <code>Receive GRF[re] bytes from core GRF[rs] @ addr GRF[rt]</code>
    </div>
  </div>
</div>

<Accordions>
<Accordion title="Parameters">

<div className="not-prose grid gap-3 sm:grid-cols-2 lg:grid-cols-3 my-4">
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="flex items-baseline gap-2 mb-2">
      <code className="font-mono font-semibold text-fd-primary">GRF[rs]</code>
      <span className="text-xs text-fd-muted-foreground">Sender ID</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Core ID of the sending processor</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="flex items-baseline gap-2 mb-2">
      <code className="font-mono font-semibold text-fd-primary">GRF[rt]</code>
      <span className="text-xs text-fd-muted-foreground">Source Address</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Memory address in sender's address space</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="flex items-baseline gap-2 mb-2">
      <code className="font-mono font-semibold text-fd-primary">GRF[rd]</code>
      <span className="text-xs text-fd-muted-foreground">Destination Address</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Memory address in local address space</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="flex items-baseline gap-2 mb-2">
      <code className="font-mono font-semibold text-fd-primary">GRF[re]</code>
      <span className="text-xs text-fd-muted-foreground">Transfer Size</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Number of bytes to receive</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm col-span-2">
    <div className="flex items-baseline gap-2 mb-2">
      <code className="font-mono font-semibold text-fd-primary">GRF[rf]</code>
      <span className="text-xs text-fd-muted-foreground">Communication ID</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Must match the communication ID from the corresponding SEND operation for proper pairing</div>
  </div>
</div>

</Accordion>
</Accordions>

<Callout type="warn">
Communication IDs must match between SEND and RECV operations. Mismatched IDs may cause deadlock or data corruption.
</Callout>

---

## Examples

```asm
; Core 0: Send 1024 bytes to Core 1
G_LI  r1, 0x1000        ; Source address in Core 0
G_LI  r2, 1             ; Receiver Core ID (Core 1)
G_LI  r3, 0x2000        ; Destination address in Core 1
G_LI  r4, 1024          ; Transfer size (bytes)
G_LI  r5, 100           ; Communication ID
SEND  r1, r2, r3, r4, r5  ; src_addr, dst_core, dst_addr, size, trans_id

; Core 1: Receive 1024 bytes from Core 0
G_LI  r1, 0             ; Source Core ID (Core 0)
G_LI  r2, 0x1000        ; Source address in Core 0
G_LI  r3, 0x2000        ; Local destination address
G_LI  r4, 1024          ; Transfer size (must match)
G_LI  r5, 100           ; Communication ID (must match)
RECV  r1, r2, r3, r4, r5  ; src_core, src_addr, dst_addr, size, trans_id

; Multi-transfer sequence with unique IDs
G_LI  r10, 200          ; Base communication ID
G_LI  r11, 1            ; Counter
G_LI  r1, 0x1000        ; Source address
G_LI  r2, 1             ; Destination core
G_LI  r3, 0x2000        ; Destination address
G_LI  r4, 1024          ; Size

; Transfer 1
SC_ADDI r5, r10, 1      ; comm_id = 200 + 1 = 201
SEND  r1, r2, r3, r4, r5

; Transfer 2
SC_ADDI r5, r10, 2      ; comm_id = 200 + 2 = 202
SEND  r1, r2, r3, r4, r5
```
