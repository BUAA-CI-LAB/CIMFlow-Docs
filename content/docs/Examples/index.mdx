---
title: Examples
description: Hands-on tutorials for CIMFlow compilation and simulation
icon: BookOpen
---

import { Card, Cards } from 'fumadocs-ui/components/card';
import { Callout } from 'fumadocs-ui/components/callout';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { Container, Play, Layers, ChartColumn, Clock } from 'lucide-react';

This section provides hands-on tutorials for using CIMFlow to compile and simulate deep learning models on CIM hardware. Follow the tutorials in order for the best learning experience.

---

## Tutorial Overview

<div className="not-prose grid gap-4 sm:grid-cols-2 my-6">
  <a href="/docs/Examples/docker-tutorial" className="group rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm hover:border-fd-primary/50 hover:shadow-md transition-all no-underline">
    <div className="flex items-center justify-between mb-2">
      <div className="flex items-center gap-2">
        <Container className="size-5 text-blue-400" />
        <div className="font-semibold text-fd-foreground group-hover:text-fd-primary">Docker Tutorial</div>
      </div>
      <span className="text-xs text-fd-muted-foreground bg-fd-muted px-2 py-0.5 rounded">~10 min</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Setup with Docker and verify installation</div>
  </a>
  <a href="/docs/Examples/quick-start" className="group rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm hover:border-fd-primary/50 hover:shadow-md transition-all no-underline">
    <div className="flex items-center justify-between mb-2">
      <div className="flex items-center gap-2">
        <Play className="size-5 text-emerald-400" />
        <div className="font-semibold text-fd-foreground group-hover:text-fd-primary">Quick Start</div>
      </div>
      <span className="text-xs text-fd-muted-foreground bg-fd-muted px-2 py-0.5 rounded">~3 min</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">End-to-end pipeline in one command</div>
  </a>
  <a href="/docs/Examples/step-by-step" className="group rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm hover:border-fd-primary/50 hover:shadow-md transition-all no-underline">
    <div className="flex items-center justify-between mb-2">
      <div className="flex items-center gap-2">
        <Layers className="size-5 text-purple-400" />
        <div className="font-semibold text-fd-foreground group-hover:text-fd-primary">Step-by-Step</div>
      </div>
      <span className="text-xs text-fd-muted-foreground bg-fd-muted px-2 py-0.5 rounded">~5 min</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Compile and simulate stage by stage</div>
  </a>
  <a href="/docs/Examples/design-exploration" className="group rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm hover:border-fd-primary/50 hover:shadow-md transition-all no-underline">
    <div className="flex items-center justify-between mb-2">
      <div className="flex items-center gap-2">
        <ChartColumn className="size-5 text-amber-400" />
        <div className="font-semibold text-fd-foreground group-hover:text-fd-primary">Design Exploration</div>
      </div>
      <span className="text-xs text-fd-muted-foreground bg-fd-muted px-2 py-0.5 rounded">~8 min</span>
    </div>
    <div className="text-sm text-fd-muted-foreground">Batch processing for hardware trade-offs</div>
  </a>
</div>

---

## Prerequisites

<Tabs items={['Docker (Recommended)', 'Local Installation']}>
<Tab value="Docker (Recommended)">

The Docker image includes all dependencies and example models pre-configured.

```bash title="Pull the tutorial image"
docker pull ghcr.io/buaa-ci-lab/cimflow-tutorial:latest
```

<Callout type="info">
The download is approximately 3GB. Ensure 15GB or more disk space is available after unpacking.
</Callout>

</Tab>
<Tab value="Local Installation">

If running locally, ensure CIMFlow is [installed](/docs/Framework/installation) and download example models:

```bash title="Download models"
./scripts/download_models.sh
```

<Callout type="warn">
Local installation requires Ubuntu 22.04+ (see [system requirements](/docs/Framework/installation#system-requirements)) and building LLVM/MLIR from source (~20-30 minutes).
</Callout>

</Tab>
</Tabs>

---

## Quick Start with Docker

<div className="fd-steps [&_h4]:fd-step [&_p]:my-1">

#### Start an interactive container

<Tabs items={['Linux/macOS', 'PowerShell', 'CMD']}>
<Tab value="Linux/macOS">
```bash
docker run -it --rm \
  -v "$(pwd)/output:/app/output" \
  ghcr.io/buaa-ci-lab/cimflow-tutorial:latest
```
</Tab>
<Tab value="PowerShell">
```powershell
docker run -it --rm `
  -v "${PWD}/output:/app/output" `
  ghcr.io/buaa-ci-lab/cimflow-tutorial:latest
```
</Tab>
<Tab value="CMD">
```cmd
docker run -it --rm -v "%cd%/output:/app/output" ghcr.io/buaa-ci-lab/cimflow-tutorial:latest
```
</Tab>
</Tabs>

This mounts a local `output` directory to persist results outside the container.

#### Run the tutorial scripts

Inside the container, execute the demo scripts in order:

```bash
./tutorial/demo0_setup.sh       # Verify installation
./tutorial/demo1_quickstart.sh  # End-to-end pipeline
./tutorial/demo2_stages.sh      # Step-by-step compilation
./tutorial/demo3_exploration.sh # Design space exploration
```

</div>

---

## Key Terminology

<div className="not-prose grid gap-3 sm:grid-cols-2 lg:grid-cols-3 my-6">
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">CG (Compute Graph)</div>
    <div className="text-sm text-fd-muted-foreground">High-level representation of neural network operations</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">OP (Operator)</div>
    <div className="text-sm text-fd-muted-foreground">Low-level CIM hardware operations</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">ISA</div>
    <div className="text-sm text-fd-muted-foreground">Instruction Set Architecture executed by the simulator</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">NoC (Network-on-Chip)</div>
    <div className="text-sm text-fd-muted-foreground">On-chip interconnect for inter-core communication</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">Macro Group</div>
    <div className="text-sm text-fd-muted-foreground">A group of CIM macro units processing data in parallel</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">Flit</div>
    <div className="text-sm text-fd-muted-foreground">Flow control unit - basic data transfer unit in the NoC</div>
  </div>
</div>

---

## Hardware Parameters Reference

These parameters configure the CIM architecture for compilation and simulation:

| Parameter | Flag | Description | Typical Values |
|-----------|------|-------------|----------------|
| **T** | `-t` | Macro group size (rows per macro) | 8, 16 |
| **K** | `-k` | Macro group number (macros per core) | 16, 32 |
| **B** | `-b` | NoC bandwidth (flits per cycle) | 8, 16 |
| **C** | `-c` | Total core count in the accelerator | 64, 128 |
| **batch_size** | `--batch-size` | Inference batch size | 1, 2, 4, 8 |

<Callout type="info">
When parameters are omitted from a command, CIMFlow uses default values. See [CLI Reference](/docs/Framework/cli) for all defaults.
</Callout>

---

## Output Metrics

After simulation, CIMFlow reports these performance metrics:

<div className="not-prose grid gap-3 sm:grid-cols-2 lg:grid-cols-3 my-6">
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">Latency</div>
    <div className="text-sm text-fd-muted-foreground">End-to-end inference time for one batch (ms)</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">Power</div>
    <div className="text-sm text-fd-muted-foreground">Average power consumption during inference (mW)</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">Energy</div>
    <div className="text-sm text-fd-muted-foreground">Total energy consumed per batch (pJ)</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">TOPS</div>
    <div className="text-sm text-fd-muted-foreground">Tera operations per second (throughput)</div>
  </div>
  <div className="rounded-lg border border-fd-border p-4 bg-fd-card shadow-sm">
    <div className="font-semibold text-fd-primary mb-1">TOPS/W</div>
    <div className="text-sm text-fd-muted-foreground">Energy efficiency (TOPS per watt)</div>
  </div>
</div>

---

## Get Started

<Callout type="idea" title="Ready to begin?">
Start with the [Docker Tutorial](/docs/Examples/docker-tutorial) to set up your environment, then follow the tutorials in sequence for the complete learning experience.
</Callout>

<Cards>
  <Card
    icon={<Container className="text-blue-400" />}
    href="/docs/Examples/docker-tutorial"
    title="Docker Tutorial"
  >
    Setup verification and CLI exploration
  </Card>
  <Card
    icon={<Play className="text-emerald-400" />}
    href="/docs/Examples/quick-start"
    title="Quick Start"
  >
    Run ResNet-18 through the full pipeline
  </Card>
  <Card
    icon={<Layers className="text-purple-400" />}
    href="/docs/Examples/step-by-step"
    title="Step-by-Step"
  >
    CG compile, OP compile, and simulation stages
  </Card>
  <Card
    icon={<ChartColumn className="text-amber-400" />}
    href="/docs/Examples/design-exploration"
    title="Design Exploration"
  >
    Batch processing for parameter sweeps
  </Card>
</Cards>
